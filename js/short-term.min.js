"use strict";$(document).ready(function(){$("div.wrapper").hide(),$("div.wrapper").fadeIn(1e3),$("div.accordian").click(function(){$(this).next().slideToggle(),$(this).toggleClass("closed")}),$("input.phone").mask("(000) 000-0000"),$("input.SSN").mask("000-00-0000"),$("input.zip").mask("00000"),$("input.age").mask("000"),$("input.height").mask("0' 00\""),$("input.weight").mask("0000"),$("input.num").mask("00"),$("input.agent-ID").mask("00000"),$("input.date").mask("#0-00-00##")});var alert=function(){document.getElementById("alert").innerHTML='<div class="codeBlock"><p class="alert">You have missing fields. See below.</p></div>'},removeAlert=function(){$("div#alert").children().remove()},next=function(){$(event.target).parent().parent().slideToggle(),$(event.target).parent().parent().prev().toggleClass("closed")},validate=function(){for(var u=$(event.target).parent().parent(),e=u.find("input:required, select:required").toArray(),t=function(){var e=u.find($('input[value="check"]')).toArray();if(0==e.length)console.log("valid");else for(var t=0;t<e.length;t++){var a=e[t].name;e[t].checked&&$("#".concat(a)).removeClass("invalid")}},a=0;a<e.length;a++){var n=e[a].name,o=e[a].value;""==o||"check"==o?($("#".concat(n)).addClass("invalid"),t()):$("#".concat(n)).removeClass("invalid")}!function(){var t=u.find("input.SSN").toArray();if(0==t.length)return;!function(){for(i=0;i<t.length;i++){var e=t[i].name;return 11==t[i].value.length?$("#".concat(e)).removeClass("invalid"):$("#".concat(e)).addClass("invalid")}}()}();!function(){var a=u.find("input.date").toArray();if(0==a.length)return;!function(){for(i=0;i<a.length;i++){var e=a[i].name,t=a[i].value;return 8==t.length||10==t.length?$("#".concat(e)).removeClass("invalid"):$("#".concat(e)).addClass("invalid")}}()}();!function(){var t=u.find("input.phone").toArray();if(0==t.length)return;!function(){for(i=0;i<t.length;i++){var e=t[i].name;return 14<t[i].value.length?$("#".concat(e)).removeClass("invalid"):$("#".concat(e)).addClass("invalid")}}()}();var s=u.find("input[type=email]").toArray();if(0<s.length)for(i=0;i<s.length;i++){var l=s[i].checkValidity(),r=s[i].name;l?$("input#".concat(r)).removeClass("invalid"):$("input#".concat(r)).addClass("invalid")}!function(){var e,t,a=u.find("input[type=radio][name=add-spouse]").toArray(),n=u.find("input[type=radio][name=add-spouse]").toArray(),o=u.find("input[type=radio][name=legal-representative]").toArray(),i=u.find("input[type=radio][name=add-agent]").toArray();0<a.length&&(e=u.find("input[type=radio][name=add-spouse][value=yes]"),t=u.find("input[type=radio][name=add-spouse][value=no]"),e.is(":checked")||t.is(":checked")?$("input[name=add-spouse").removeClass("invalid"):e.is("checked")||t.is("checked")||$("input[name=add-spouse").addClass("invalid"));var s,l;0<n.length&&(s=u.find("input[type=radio][name=add-dependent][value=yes]"),l=u.find("input[type=radio][name=add-dependent][value=no]"),s.is(":checked")||l.is(":checked")?$("input[name=add-dependent").removeClass("invalid"):s.is("checked")||l.is("checked")||$("input[name=add-dependent").addClass("invalid"));var r,d;0<o.length&&(r=u.find("input[type=radio][name=legal-representative][value=yes]"),d=u.find("input[type=radio][name=legal-representative][value=no]"),r.is(":checked")||d.is(":checked")?$("input[name=legal-representative").removeClass("invalid"):r.is("checked")||d.is("checked")||$("input[name=legal-representative").addClass("invalid"));var p,c;0<i.length&&(p=u.find("input[type=radio][name=add-agent][value=yes]"),c=u.find("input[type=radio][name=add-agent][value=no]"),p.is(":checked")||c.is(":checked")?$("input[name=add-agent").removeClass("invalid"):p.is("checked")||c.is("checked")||$("input[name=add-agent").addClass("invalid"))}(),0==u.find("input.invalid, select.invalid").toArray().length?(removeAlert(),next()):alert()},priorName=function(){var e=document.getElementById("applicant-marital-status").value;"married"===e||"divorced"===e?$("input#applicant-prior-last-name").removeClass("hide"):$("input#applicant-prior-last-name").addClass("hide")},spouseProgress=function(){var e=$(event.target).parent().parent().next();e.hasClass("hide")&&e.removeClass("hide")},addSpouse=function(){document.getElementById("spouse-block").innerHTML='<div class="codeBlock"> <p class="header">Spouse Personal Information</p><input type="text" placeholder="First Name" required id="spouse-first-name" name="spouse-first-name" minlength="2" maxlength="128"/> <input type="text" placeholder="MI" class="optional" id="spouse-MI" name="spouse-MI" maxlength="1"/> <input type="text" placeholder="Last Name" required id="spouse-last-name" name="spouse-last-name" minlength="2" maxlength="128"/> <input type="text" placeholder="000-00-0000" required id="spouse-SSN" name="spouse-SSN" class="SSN" minlength="9" maxlength="9"/> <input type="text" placeholder="Birthday" required id="spouse-birthday" name="spouse-birthday" class="date" onfocus="(this.placeholder=\'MM-DD-YYYY\')" onblur="(this.placeholder=\'Birthday\')" minlength="8" maxlength="10"/> <select required id="spouse-gender" value="" class="purple-format" name="spouse-gender"> <option value="" disabled selected class="placeholder">Gender</option> <option value="male">Male</option> <option value="female">Female</option> </select> <p class="header">Health Information</p><input type="text" placeholder="Age" required id="spouse-age" name="spouse-age" class="age" minlength="1" maxlength="3"/> <input type="text" placeholder="Height" required id="spouse-height" name="spouse-height" class="height" onfocus="(this.placeholder=\'0&lsquo; 00&ldquo;\')" onblur="(this.placeholder=\'Height\')" minlength="2" maxlength="6"/> <input type="text" placeholder="Weight" required id="spouse-weight" name="spouse-weight" class="weight" minlength="2" maxlength="4"/> <input type="text" placeholder="Primary Care Physician (First Name)" required id="spouse-pcp-first-name" name="spouse-pcp-first-name" minlength="2" maxlength="128"/> <input type="text" placeholder="Primary Care Physician (Last Name)" required id="spouse-pcp-last-name" name="spouse-pcp-last-name" minlength="2" maxlength="128"/> <div class="question"> <p>Are you an established patient?</p><select required id="spouse-question-1" value="" class="purple-format question" name="spouse-question-1"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>Have you been declined for insurance due to health reasons within the past 18 months?</p><select required id="spouse-question-2" value="" class="purple-format question" name="spouse-question-2"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>Do you have hospital, major medical, group health, government or medical insurance coverage that will overlap during the duration of this coverage?</p><select required id="spouse-question-3" value="" class="purple-format question" name="spouse-question-3"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>If you are female, are you now pregnant, or if you are male, are you an expectant parent?</p><select required id="spouse-question-4" value="" class="purple-format question" name="spouse-question-4"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>Do you weigh more than 300 pounds if male or more than 250 pounds if female?</p><select required id="spouse-question-5" value="" class="purple-format question" name="spouse-question-5"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>In the past five years, have you taken medication for or been advised, consulted, tested, diagnosed, treated or hospitalized or recommended for treatment by a physician for any of the following: heart or circulatory system disorder, including heart attack or stroke; insulin-dependent diabetes; cancer or tumors; disorder of the blood, including hemophilia or leukemia; kidney or liver disorder; mental or nervous conditions or disorders; alcoholism or alcohol abuse; drug abuse, addiction or dependency; organ transplant; emphysema; Crohn’s disease, ulcerative colitis or hepatitis?</p><select required id="spouse-question-6" value="" class="purple-format question" name="spouse-question-6"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>Have you ever been diagnosed or treated by a physician for acquired immune deficiency syndrome (AIDS) or AIDS-related complex (ARC), or have you in the past five years tested positive for HIV virus or other immune disorders?</p><select required id="spouse-question-7" value="" class="purple-format question" name="spouse-question-7"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div></div>'},addSpouseSignature=function(){document.getElementById("spouse-signature-block").innerHTML='<div class="codeBlock"> <input type="text" placeholder="Signature of Spouse or Civil Union (ONLY if to be insured)" required id="spouse-agreement-signature" name="spouse-agreement-signature" minlength="1" maxlength="128"> <input type="text" placeholder="Date of Sign" required id="spouse-agreement-signature-date" name="spouse-agreement-signature-date" class="date" pattern="[0-9]{2}-[0-9]{2}-[0-9]{4}" onfocus="(this.placeholder=\'MM-DD-YYYY\')" onblur="(this.placeholder=\'Date of Sign\')" maxlength="10"/></div>';document.getElementById("spouse-signature-block-2").innerHTML='<div class="codeBlock2"> <input type="text" placeholder="Signature of Spouse or Civil Union" required id="spouse-authorization-signature" name="spouse-authorization-signature" minlength="2" maxlength="128"> <input type="text" placeholder="Date of Sign" required id="spouse-authorization-signature-date" name="spouse-authorization-signature-date" class="date" onfocus="(this.placeholder=\'MM-DD-YYYY\')" onblur="(this.placeholder=\'Date of Sign\')" maxlength="10"> </div>'},removeSpouse=function(){$("div#spouse-block").children().remove(),$("div#spouse-signature-block").children().remove(),$("div#spouse-signature-block-2").children().remove()},dependentsProgress=function(){document.getElementById("num-of-dependents-block").innerHTML='<div class="codeBlock"> <div class="radio number-input"> <p>How many?</p><div class="right"> <input type="text" name="num-of-dependents" id="num-of-dependents" required class="num" onfocus="(this.placeholder=\'10 max\')" onblur="(this.placeholder=\'\')" onkeyup="colorize();" minlength="1" maxlength="2" max="10"> <button type="button" class="update" onclick="numOfDependents();">Update</button> </div></div></div>'},numOfDependents=function(){function e(){var e=$("#dependent-block").children().length;if(e<n){var t=n-e;for(i=0;i<t;i++)o.insertAdjacentHTML("beforeend",r),s.insertAdjacentHTML("beforeend",'<div class="codeBlock"> <input type="text" placeholder="Signature of Dependent (ONLY if to be insured and 18 years or older)" required id="dependent-agreement-signature" name="dependent-agreement-signature" minlenght="2" maxlength="128"/> <input type="text" placeholder="Date of Sign" required id="dependent-agreement-signature-date" name="dependent-agreement-signature-date" class="date" onfocus="(this.placeholder=\'MM-DD-YYYY\')" onblur="(this.placeholder=\'Date of Sign\')" maxlength="10"/> </div>'),l.insertAdjacentHTML("beforeend",'<div class="codeBlock2"> <input type="text" placeholder="Signature of Dependent" required id="dependent-authorization-signature" name="dependent-authorization-signature" minlength="2" maxlength="128"> <input type="text" placeholder="Date of Sign" required id="dependent-authorization-signature-date" name="dependent-authorization-signature-date" class="date" pattern="[0-9]{2}-[0-9]{2}-[0-9]{4}" onfocus="(this.placeholder=\'MM-DD-YYYY\')" onblur="(this.placeholder=\'Date of Sign\')" maxlength="10"> </div>')}else if(n<e){var a=e-n;for(i=0;i<a;i++)o.removeChild(o.lastChild),s.removeChild(s.lastChild),l.removeChild(l.lastChild)}else{if(!(e===n&&n.length<1))return;o.insertAdjacentHTML("beforeend",r)}}var n=$("input#num-of-dependents").val(),o=document.getElementById("dependent-block"),s=document.getElementById("dependent-signature-block"),l=document.getElementById("dependent-signature-block-2"),r='\x3c!-- <div class="codeBlock"> <p class="header">Dependent Personal Information</p><input type="text" placeholder="First Name" required id="dependent-first-name" name="dependent-first-name" minlength="2" maxlength="128"> <input type="text" placeholder="MI" class="optional" id="dependent-MI" name="dependent-MI" maxlength="1"> <input type="text" placeholder="Last Name" required id="dependent-last-name" name="dependent-last-name" minlength="2" maxlength="128"> <input type="text" placeholder="SSN" required id="dependent-SSN" name="dependent-SSN" class="SSN" minlength="9" maxlength="9"> <input type="text" placeholder="Birthday" required id="dependent-birthday" name="dependent-birthday" class="date" onfocus="(this.placeholder=\'MM-DD-YYYY\')" onblur="(this.placeholder=\'Birthday\')" minlength="8" maxlength="10"> <select required id="spouse-gender" value="" class="purple-format" name="dependent-gender"> <option value="" disabled selected class="placeholder">Gender</option> <option value="male">Male</option> <option value="female">Female</option> </select> <p class="header">Health Information</p><input type="text" placeholder="Age" required id="dependent-age" name="dependent-age" class="age" minlength="1" maxlength="3"> <input type="text" placeholder="Height" required id="dependent-height" name="dependent-height" class="height" onfocus="(this.placeholder=\'0&lsquo; 00&ldquo;\')" onblur="(this.placeholder=\'Height\')" minlength="2" maxlength="6"> <input type="text" placeholder="Weight" required id="dependent-weight" name="dependent-weight" class="weight" minlength="2" maxlength="4"> <input type="text" placeholder="Primary Care Physician (First Name)" required id="dependent-pcp-first-name" name="dependent-pcp-first-name" minlength="2" maxlength="128"> <input type="text" placeholder="Primary Care Physician (Last Name)" required id="dependent-pcp-last-name" name="dependent-pcp-last-name" minlength="2" maxlength="128"> <div class="question"> <p>Are you an established patient?</p><select required id="dependent-question-1" value="" class="purple-format question" name="dependent-question-1"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>Have you been declined for insurance due to health reasons within the past 18 months?</p><select required id="dependent-question-2" value="" class="purple-format question" name="dependent-question-2"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>Do you have hospital, major medical, group health, government or medical insurance coverage that will overlap during the duration of this coverage?</p><select required id="dependent-question-3" value="" class="purple-format question" name="dependent-question-3"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>If you are female, are you now pregnant, or if you are male, are you an expectant parent?</p><select required id="dependent-question-4" value="" class="purple-format question" name="dependent-question-4"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>Do you weigh more than 300 pounds if male or more than 250 pounds if female?</p><select required id="dependent-question-5" value="" class="purple-format question" name="dependent-question-5"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>In the past five years, have you taken medication for or been advised, consulted, tested, diagnosed, treated or hospitalized or recommended for treatment by a physician for any of the following: heart or circulatory system disorder, including heart attack or stroke; insulin-dependent diabetes; cancer or tumors; disorder of the blood, including hemophilia or leukemia; kidney or liver disorder; mental or nervous conditions or disorders; alcoholism or alcohol abuse; drug abuse, addiction or dependency; organ transplant; emphysema; Crohn’s disease, ulcerative colitis or hepatitis?</p><select required id="dependent-question-6" value="" class="purple-format question" name="dependent-question-6"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div><div class="question"> <p>Have you ever been diagnosed or treated by a physician for acquired immune deficiency syndrome (AIDS) or AIDS-related complex (ARC), or have you in the past five years tested positive for HIV virus or other immune disorders?</p><select required id="dependent-question-7" value="" class="purple-format question" name="dependent-question-7"> <option value="" disabled selected class="placeholder">Choose</option> <option value="yes">Yes</option> <option value="no">No</option> </select> <div class="clear"></div></div></div>--\x3e';n.length<1?e():0<n.length&&n<=10&&(colorize(),e())},dependentsDigress=function(){$("div#num-of-dependents-block").children().remove(),$("div#dependent-block").children().remove()},dependentRemoveSignatures=function(){$("div#dependent-signature-block").children().remove(),$("div#dependent-signature-block-2").children().remove()},colorize=function(){var e=$("input#num-of-dependents"),t=e.val();t<=10?e.removeClass("invalid"):10<t&&e.addClass("invalid")},tableSelect=function(){var e=document.getElementById("coverage-table-select").value,t=$("#coverage-table table tbody").children();"A"===e?(t.eq(1).addClass("selected"),t.eq(2).removeClass("selected"),t.eq(3).removeClass("selected"),t.eq(4).removeClass("selected")):"B"===e?(t.eq(2).addClass("selected"),t.eq(1).removeClass("selected"),t.eq(3).removeClass("selected"),t.eq(4).removeClass("selected")):"C"===e?(t.eq(3).addClass("selected"),t.eq(1).removeClass("selected"),t.eq(2).removeClass("selected"),t.eq(4).removeClass("selected")):"D"===e&&(t.eq(4).addClass("selected"),t.eq(1).removeClass("selected"),t.eq(2).removeClass("selected"),t.eq(3).removeClass("selected"))},addAgent=function(){document.getElementById("agent-block").innerHTML='<div class="codeBlock"> <p class="header">I certify that:</p><p class="bullet">• All answers provided in this application were completed by or provided by the applicant.</p><p class="bullet">• I have reviewed this enrollment form to ensure that all required items have been completed.</p><p class="bullet">• I am not aware of any information not disclosed on this enrollment form relating to the health, habits or reputation of any person listed on this enrollment form, which might have a bearing on the risk.</p><p class="header">Agent / Broker Information</p><input type="text" placeholder="Full Name" required id="agent-name" name="agent-name" minlength="1" maxlength="128"/> <input type="text" placeholder="ID# / Code" required id="agent-ID" class="agent-ID" name="agent-ID" onfocus="(this.placeholder=\'000000\')" onblur="(this.placeholder=\'ID# / Code\')" minlength="1" maxlength="6"/> <input type="text" placeholder="Agency" required id="agent-agency" name="agent-agency" minlength="1" maxlength="256"/> <br><input type="text" placeholder="Home Phone" required id="agent-phone" name="agent-phone" class="phone"> <input type="email" placeholder="Email" required id="agent-email" name="agent-email" minlength="1" maxlength="256" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$"> <input type="text" placeholder="Producer Signature" required id="producer-signature" name="producer-signature" minlength="2" maxlength="128"/> <input type="text" placeholder="Date of Sign" required id="producer-signature-date" name="producer-signature-date" class="date" onfocus="(this.placeholder=\'MM-DD-YYYY\')" onblur="(this.placeholder=\'Date of Sign\')" minlength="8" maxlength="10"/> <div class="agree"> <label><input type="checkbox" value="check" required id="producer-signature-valid" name="producer-signature-valid">I agree that the typed names above shall be treated as valid signatures for all purposes of this form.</label> </div></div>'},removeAgent=function(){$("div#agent-block").children().remove()},addPDF=function(){$("div#legal-block").children().remove();document.getElementById("legal-block").innerHTML='<div class="codeBlock"> <p class="header">Please upload your Legally Authorized Representative Documents.</p><input type="file" name="files" id="files" multiple="multiple" accept="image/jpeg,image/gif,image/png,application/pdf,image/tiff,text/plain,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document" data-val="true" data-val-allowedfileextensions="Allowed file extensions: pdf, jpg, jpeg, gif, tiff, png, txt, doc, docx"/> </div>'},removePDF=function(){$("div#legal-block").children().remove()},submitForm=function(){validate();var e=$(event.target).parent().parent().find("input.invalid, select.invalid").toArray();if(0==e.length)return removeAlert(),window.location.href="./short-term-application-confirm.html",!0;alert(),console.log(e)},form=document.getElementById("form");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}form.addEventListener("submit",submitForm,!0);var $jscomp={scope:{},findInternal:function(e,t,a){e instanceof String&&(e=String(e));for(var n=e.length,o=0;o<n;o++){var i=e[o];if(t.call(a,i,o,e))return{i:o,v:i}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=a.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(void 0),$jscomp.polyfill=function(e,t,a,n){if(t){for(a=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in a||(a[o]={}),a=a[o]}(t=t(n=a[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(a,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6-impl","es3"),function(e,t,a){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("jquery")):e(t||a)}(function(s){function l(d,k,b){var q={invalid:[],getCaret:function(){try{var e,t=0,a=d.get(0),n=document.selection,o=a.selectionStart;return n&&-1===navigator.appVersion.indexOf("MSIE 10")?((e=n.createRange()).moveStart("character",-q.val().length),t=e.text.length):!o&&"0"!==o||(t=o),t}catch(e){}},setCaret:function(e){try{if(d.is(":focus")){var t,a=d.get(0);a.setSelectionRange?a.setSelectionRange(e,e):((t=a.createTextRange()).collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select())}}catch(e){}},events:function(){d.on("keydown.mask",function(e){d.data("mask-keycode",e.keyCode||e.which),d.data("mask-previus-value",d.val()),d.data("mask-previus-caret-pos",q.getCaret()),q.maskDigitPosMapOld=q.maskDigitPosMap}).on(s.jMaskGlobals.useInput?"input.mask":"keyup.mask",q.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){d.keydown().keyup()},100)}).on("change.mask",function(){d.data("changed",!0)}).on("blur.mask",function(){i===q.val()||d.data("changed")||d.trigger("change"),d.data("changed",!1)}).on("blur.mask",function(){i=q.val()}).on("focus.mask",function(e){!0===b.selectOnFocus&&s(e.target).select()}).on("focusout.mask",function(){b.clearIfNotMatch&&!n.test(q.val())&&q.val("")})},getRegexMask:function(){for(var e,t,a,n,o=[],i=0;i<k.length;i++)(e=x.translation[k.charAt(i)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),a=e.optional,(e=e.recursive)?(o.push(k.charAt(i)),n={digit:k.charAt(i),pattern:t}):o.push(a||e?t+"?":t)):o.push(k.charAt(i).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=o.join(""),n&&(o=o.replace(new RegExp("("+n.digit+"(.*"+n.digit+")?)"),"($1)?").replace(new RegExp(n.digit,"g"),n.pattern)),new RegExp(o)},destroyEvents:function(){d.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(e){var t=d.is("input")?"val":"text";return t=0<arguments.length?(d[t]()!==e&&d[t](e),d):d[t]()},calculateCaretPosition:function(){var e=d.data("mask-previus-value")||"",t=q.getMasked(),a=q.getCaret();if(e!==t){var n,o=d.data("mask-previus-caret-pos")||0,i=(t=t.length,e.length),s=e=0,l=0,r=0;for(n=a;n<t&&q.maskDigitPosMap[n];n++)s++;for(n=a-1;0<=n&&q.maskDigitPosMap[n];n--)e++;for(n=a-1;0<=n;n--)q.maskDigitPosMap[n]&&l++;for(n=o-1;0<=n;n--)q.maskDigitPosMapOld[n]&&r++;i<a?a=10*t:a<=o&&o!==i?q.maskDigitPosMapOld[a]||(a=(o=a)-(r-l)-e,q.maskDigitPosMap[a]&&(a=o)):o<a&&(a=a+(l-r)+s)}return a},behaviour:function(e){e=e||window.event,q.invalid=[];var t=d.data("mask-keycode");if(-1===s.inArray(t,x.byPassKeys)){t=q.getMasked();var a=q.getCaret();return setTimeout(function(){q.setCaret(q.calculateCaretPosition())},s.jMaskGlobals.keyStrokeCompensation),q.val(t),q.setCaret(a),q.callbacks(e)}},getMasked:function(e,t){var a,n,o,i=[],s=void 0===t?q.val():t+"",l=0,r=k.length,d=0,p=s.length,c=1,u="push",m=-1,h=0,v=[];for(n=b.reverse?(u="unshift",c=-1,a=0,l=r-1,d=p-1,function(){return-1<l&&-1<d}):(a=r-1,function(){return l<r&&d<p});n();){var g=k.charAt(l),f=s.charAt(d),y=x.translation[g];y?(f.match(y.pattern)?(i[u](f),y.recursive&&(-1===m?m=l:l===a&&l!==m&&(l=m-c),a===m&&(l-=c)),l+=c):f===o?(h--,o=void 0):y.optional?(l+=c,d-=c):y.fallback?(i[u](y.fallback),l+=c,d-=c):q.invalid.push({p:d,v:f,e:y.pattern}),d+=c):(e||i[u](g),f===g?(v.push(d),d+=c):(o=g,v.push(d+h),h++),l+=c)}return s=k.charAt(a),r!==p+1||x.translation[s]||i.push(s),i=i.join(""),q.mapMaskdigitPositions(i,v,p),i},mapMaskdigitPositions:function(e,t,a){for(e=b.reverse?e.length-a:0,q.maskDigitPosMap={},a=0;a<t.length;a++)q.maskDigitPosMap[t[a]+e]=1},callbacks:function(e){function t(e,t,a){"function"==typeof b[e]&&t&&b[e].apply(this,a)}var a=q.val(),n=a!==i,o=[a,e,d,b];t("onChange",!0==n,o),t("onKeyPress",!0==n,o),t("onComplete",a.length===k.length,o),t("onInvalid",0<q.invalid.length,[a,e,d,q.invalid,b])}};d=s(d);var n,x=this,i=q.val();k="function"==typeof k?k(q.val(),void 0,d,b):k,x.mask=k,x.options=b,x.remove=function(){var e=q.getCaret();return x.options.placeholder&&d.removeAttr("placeholder"),d.data("mask-maxlength")&&d.removeAttr("maxlength"),q.destroyEvents(),q.val(x.getCleanVal()),q.setCaret(e),d},x.getCleanVal=function(){return q.getMasked(!0)},x.getMaskedVal=function(e){return q.getMasked(!1,e)},x.init=function(e){if(e=e||!1,b=b||{},x.clearIfNotMatch=s.jMaskGlobals.clearIfNotMatch,x.byPassKeys=s.jMaskGlobals.byPassKeys,x.translation=s.extend({},s.jMaskGlobals.translation,b.translation),x=s.extend(!0,{},x,b),n=q.getRegexMask(),e)q.events(),q.val(q.getMasked());else{b.placeholder&&d.attr("placeholder",b.placeholder),d.data("mask")&&d.attr("autocomplete","off");for(var t=!(e=0);e<k.length;e++){var a=x.translation[k.charAt(e)];if(a&&a.recursive){t=!1;break}}t&&d.attr("maxlength",k.length).data("mask-maxlength",!0),q.destroyEvents(),q.events(),e=q.getCaret(),q.val(q.getMasked()),q.setCaret(e)}},x.init(!d.is("input"))}s.maskWatchers={};function t(){var e=s(this),t={},a=e.attr("data-mask");if(e.attr("data-mask-reverse")&&(t.reverse=!0),e.attr("data-mask-clearifnotmatch")&&(t.clearIfNotMatch=!0),"true"===e.attr("data-mask-selectonfocus")&&(t.selectOnFocus=!0),r(e,a,t))return e.data("mask",new l(this,a,t))}var r=function(e,t,a){a=a||{};var n=s(e).data("mask"),o=JSON.stringify;e=s(e).val()||s(e).text();try{return"function"==typeof t&&(t=t(e)),"object"!==_typeof(n)||o(n.options)!==o(a)||n.mask!==t}catch(e){}},e=function(e){var t,a=document.createElement("div");return(t=(e="on"+e)in a)||(a.setAttribute(e,"return;"),t="function"==typeof a[e]),t};s.fn.mask=function(e,t){t=t||{};function a(){if(r(this,e,t))return s(this).data("mask",new l(this,e,t))}var n=this.selector,o=(i=s.jMaskGlobals).watchInterval,i=t.watchInputs||i.watchInputs;return s(this).each(a),n&&""!==n&&i&&(clearInterval(s.maskWatchers[n]),s.maskWatchers[n]=setInterval(function(){s(document).find(n).each(a)},o)),this},s.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},s.fn.unmask=function(){return clearInterval(s.maskWatchers[this.selector]),delete s.maskWatchers[this.selector],this.each(function(){var e=s(this).data("mask");e&&e.remove().removeData("mask")})},s.fn.cleanVal=function(){return this.data("mask").getCleanVal()},s.applyDataMask=function(e){((e=e||s.jMaskGlobals.maskElements)instanceof s?e:s(e)).filter(s.jMaskGlobals.dataMaskAttr).each(t)},e={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&e("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},s.jMaskGlobals=s.jMaskGlobals||{},(e=s.jMaskGlobals=s.extend(!0,{},e,s.jMaskGlobals)).dataMask&&s.applyDataMask(),setInterval(function(){s.jMaskGlobals.watchDataMask&&s.applyDataMask()},e.watchInterval)},window.jQuery,window.Zepto);